{# Text Section Component #}

{% import '_partials/theme-macros.twig' as theme %}
{% import '_partials/ui-macros.twig' as ui %}

{% set background = entry.backgroundColor.value ?? entry.backgroundColor ?? 'transparent' %}
{% set layout = entry.textLayout ?? 'one-column' %}
{% set svgVariant = entry.svgVariant ?? 1 %}
{% set vars = theme.getThemeVars(background)|json_decode %}

<section class="py-16 relative {{ vars.backgroundClass }}">
    {# SVG Background Shapes #}
    {{ ui.svgShapes(svgVariant, vars) }}

    <div class="max-w-7xl mx-auto px-4 lg:px-8 relative z-10">
        {% if layout == 'one-column' %}
            {# One Column Layout #}
            <div class="max-w-4xl">
                {% include '_partials/text-content.twig' with {
                    subtitle: entry.subtitle,
                    title: entry.title,
                    description: entry.description,
                    text: entry.text,
                    button: entry.button,
                    subtitleBgClass: vars.subtitleBgClass,
                    titleColorClass: vars.titleColorClass,
                    textColorClass: vars.textColorClass,
                    buttonClass: vars.buttonClass,
                    buttonTextClass: vars.buttonTextClass,
                    buttonAlign: ''
                } %}
            </div>
        {% else %}
            {# Two Column Layout #}
            <div class="grid md:grid-cols-2 gap-12 items-start">
                {# Sticky Header Column #}
                <div class="md:sticky md:top-24">
                    {{ ui.subtitle(entry.subtitle, vars.subtitleBgClass) }}
                    <h2 class="text-4xl font-bold {{ vars.titleColorClass }}">{{ entry.title }}</h2>
                </div>

                {# Content Column #}
                <div>
                    {% if entry.description %}
                        <div class="text-xl {{ vars.textColorClass }} mb-8">{{ entry.description }}</div>
                    {% endif %}
                    {% if entry.text %}
                        <div class="text-lg {{ vars.textColorClass }} mb-8 space-y-4 content-styles">
                            {{ entry.text }}
                        </div>
                    {% endif %}
                    {{ ui.buttonPrimary(entry.button, vars.buttonClass, vars.buttonTextClass) }}
                </div>
            </div>
        {% endif %}
    </div>
</section>
