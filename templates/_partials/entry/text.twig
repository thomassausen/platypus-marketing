{# Text Section Component #}

{% set background = entry.backgroundColor.value ?? entry.backgroundColor ?? 'transparent' %}
{% set layout = entry.textLayout ?? 'one-column' %}
{% set svgVariant = entry.svgVariant ?? 1 %}

{# Default-Werte #}
{% set backgroundClass = '' %}
{% set textColorClass = 'text-gray-600' %}
{% set titleColorClass = 'text-brand-primary' %}
{% set subtitleBgClass = 'bg-brand-primary/10 text-brand-primary' %}
{% set buttonClass = 'bg-brand-primary hover:bg-brand-secondary' %}
{% set buttonTextClass = 'text-white' %}
{% set svgColor1 = 'text-brand-secondary/8' %}
{% set svgColor2 = 'text-brand-accent/10' %}
{% set svgColor3 = 'text-brand-primary/12' %}
{% set svgColor4 = 'text-brand-accent/15' %}

{# Background-spezifische Überschreibungen #}
{% if background == 'gradient' %}
    {% set backgroundClass = 'bg-gradient-to-br from-brand-primary to-brand-secondary' %}
    {% set textColorClass = 'text-white' %}
    {% set titleColorClass = 'text-white' %}
    {% set subtitleBgClass = 'bg-white/20 text-white' %}
    {% set buttonClass = 'bg-white hover:bg-gray-100' %}
    {% set buttonTextClass = 'text-brand-primary' %}
    {% set svgColor1 = 'text-white/8' %}
    {% set svgColor2 = 'text-white/10' %}
    {% set svgColor3 = 'text-white/12' %}
    {% set svgColor4 = 'text-white/15' %}
{% elseif background == 'soft' %}
    {% set backgroundClass = 'bg-background-soft' %}
{% elseif background == 'white' %}
    {% set backgroundClass = 'bg-white' %}
{% elseif background == 'accent' %}
    {% set backgroundClass = 'bg-brand-accent' %}
{% elseif background in ['blue', 'orange'] %}
    {% set backgroundClass = background == 'blue' ? 'bg-brand-primary' : 'bg-brand-secondary' %}
    {% set textColorClass = 'text-white' %}
    {% set titleColorClass = 'text-white' %}
    {% set subtitleBgClass = 'bg-white/20 text-white' %}
    {% set buttonClass = 'bg-white hover:bg-gray-100' %}
    {% set buttonTextClass = 'text-brand-primary' %}
    {% set svgColor1 = 'text-white/8' %}
    {% set svgColor2 = 'text-white/10' %}
    {% set svgColor3 = 'text-white/12' %}
    {% set svgColor4 = 'text-white/15' %}
{% endif %}

<section class="py-16 relative {{ backgroundClass }}">
    {# SVG Background Shapes #}
    {% include '_partials/svg-shapes.twig' with {
        variant: svgVariant,
        color1: svgColor1,
        color2: svgColor2,
        color3: svgColor3,
        color4: svgColor4
    } %}

    <div class="max-w-7xl mx-auto px-4 lg:px-8 relative z-10">
        {% if layout == 'one-column' %}
            {# One Column Layout #}
            <div class="max-w-4xl">
                {% include '_partials/text-content.twig' with {
                    subtitle: entry.subtitle,
                    title: entry.title,
                    description: entry.description,
                    text: entry.text,
                    button: entry.button,
                    subtitleBgClass: subtitleBgClass,
                    titleColorClass: titleColorClass,
                    textColorClass: textColorClass,
                    buttonClass: buttonClass,
                    buttonTextClass: buttonTextClass,
                    buttonAlign: ''
                } %}
            </div>
        {% else %}
            {# Two Column Layout #}
            <div class="grid md:grid-cols-2 gap-12 items-start">
                {# Sticky Header Column #}
                <div class="md:sticky md:top-24">
                    {% if entry.subtitle %}
                        <div class="inline-block mb-4">
                            <span class="px-4 py-2 {{ subtitleBgClass }} rounded-full text-sm font-semibold tracking-wide">
                                {{ entry.subtitle }}
                            </span>
                        </div>
                    {% endif %}
                    <h2 class="text-4xl font-bold {{ titleColorClass }}">{{ entry.title }}</h2>
                </div>

                {# Content Column #}
                <div>
                    {% if entry.description %}
                        <div class="text-xl {{ textColorClass }} mb-8">{{ entry.description }}</div>
                    {% endif %}
                    {% if entry.text %}
                        <div class="text-lg {{ textColorClass }} mb-8 space-y-4 content-styles">
                            {{ entry.text }}
                        </div>
                    {% endif %}
                    {% if entry.button %}
                        <div class="flex space-x-4">
                            <a href="{{ entry.button.value }}" class="group relative {{ buttonClass }} {{ buttonTextClass }} px-8 py-4 rounded-full hover:scale-105 transition-all duration-300 text-center font-semibold overflow-hidden">
                                <span class="relative z-10">{{ entry.button.label }}</span>
                                <span class="relative z-10 inline-block ml-2 group-hover:translate-x-1 transition-transform">→</span>
                            </a>
                        </div>
                    {% endif %}
                </div>
            </div>
        {% endif %}
    </div>
</section>
