{# Quote Section Component #}

{% set background = entry.backgroundColor.value ?? entry.backgroundColor ?? 'transparent' %}
{% set layout = entry.textLayout ?? 'one-column' %}
{% set svgVariant = entry.svgVariant ?? 1 %}

{# Default-Werte #}
{% set backgroundClass = '' %}
{% set textColorClass = 'text-gray-600' %}
{% set titleColorClass = 'text-brand-primary' %}
{% set subtitleBgClass = 'bg-brand-primary/10 text-brand-primary' %}
{% set buttonClass = 'bg-brand-primary hover:bg-brand-secondary' %}
{% set buttonTextClass = 'text-white' %}
{% set svgColor1 = 'text-brand-secondary/8' %}
{% set svgColor2 = 'text-brand-accent/10' %}
{% set svgColor3 = 'text-brand-primary/12' %}
{% set svgColor4 = 'text-brand-accent/15' %}
{% set quoteBoxClass = 'bg-white/10 backdrop-blur-sm' %}
{% set quoteTextColor = 'text-white' %}
{% set quoteSvgColor = 'text-white/80' %}

{# Background-spezifische Ãœberschreibungen #}
{% if background == 'gradient' %}
    {% set backgroundClass = 'bg-gradient-to-br from-brand-primary to-brand-secondary' %}
    {% set textColorClass = 'text-white' %}
    {% set titleColorClass = 'text-white' %}
    {% set subtitleBgClass = 'bg-white/20 text-white' %}
    {% set buttonClass = 'bg-white hover:bg-gray-100' %}
    {% set buttonTextClass = 'text-brand-primary' %}
    {% set svgColor1 = 'text-white/8' %}
    {% set svgColor2 = 'text-white/10' %}
    {% set svgColor3 = 'text-white/12' %}
    {% set svgColor4 = 'text-white/15' %}
{% elseif background == 'soft' %}
    {% set backgroundClass = 'bg-background-soft' %}
    {% set quoteBoxClass = 'bg-white' %}
    {% set quoteTextColor = 'text-brand-primary' %}
    {% set quoteSvgColor = 'text-brand-primary/80' %}
{% elseif background == 'white' %}
    {% set backgroundClass = 'bg-white' %}
    {% set quoteBoxClass = 'bg-background-soft' %}
    {% set quoteTextColor = 'text-brand-primary' %}
    {% set quoteSvgColor = 'text-brand-primary/80' %}
{% elseif background == 'accent' %}
    {% set backgroundClass = 'bg-brand-accent' %}
{% elseif background in ['blue', 'orange'] %}
    {% set backgroundClass = background == 'blue' ? 'bg-brand-primary' : 'bg-brand-secondary' %}
    {% set textColorClass = 'text-white' %}
    {% set titleColorClass = 'text-white' %}
    {% set subtitleBgClass = 'bg-white/20 text-white' %}
    {% set buttonClass = 'bg-white hover:bg-gray-100' %}
    {% set buttonTextClass = 'text-brand-primary' %}
    {% set svgColor1 = 'text-white/8' %}
    {% set svgColor2 = 'text-white/10' %}
    {% set svgColor3 = 'text-white/12' %}
    {% set svgColor4 = 'text-white/15' %}
{% endif %}

<section class="py-16 relative {{ backgroundClass }}">
    {# SVG Background Shapes #}
    {% include '_partials/svg-shapes.twig' with {
        variant: svgVariant,
        color1: svgColor1,
        color2: svgColor2,
        color3: svgColor3,
        color4: svgColor4
    } %}

    <div class="max-w-7xl mx-auto px-4 lg:px-8 relative z-10">
        {# Centered Quote Layout with backdrop blur box #}
        <div class="{{ quoteBoxClass }} rounded-tl-[2.5rem] rounded-br-[2.5rem] p-12 shadow-2xl">
            <div class="max-w-4xl mx-auto text-center">
                {# Quote Icon #}
                <svg class="w-16 h-16 {{ quoteSvgColor }} mx-auto mb-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M9.983 3v7.391c0 5.704-3.731 9.57-9.983 10.609l-.995-1.265c2.135-1.718 3.408-4.431 3.408-7.841v-8.894h7.57zm14.017 0v7.391c0 5.704-3.731 9.57-9.983 10.609l-.995-1.265c2.135-1.718 3.408-4.431 3.408-7.841v-8.894h7.57z"/>
                </svg>

                {# Quote Text #}
                {% if entry.text %}
                    <blockquote class="text-2xl md:text-3xl font-bold {{ quoteTextColor }} content-styles mb-6">
                        {{ entry.text }}
                    </blockquote>
                {% endif %}

                {# Author #}
                {% if entry.creator %}
                    <cite class="text-lg {{ quoteSvgColor }} font-medium">
                        - {{ entry.creator }}
                    </cite>
                {% endif %}
            </div>
        </div>
    </div>
</section>
